(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{PaMa:function(e,t,a){e.exports={mainForgot:"spc-pages-auth-forgot-style-mainForgot",icon:"spc-pages-auth-forgot-style-icon",other:"spc-pages-auth-forgot-style-other",register:"spc-pages-auth-forgot-style-register",termModel:"spc-pages-auth-forgot-style-termModel"}},UFLn:function(e,t,a){"use strict";a.r(t);a("IzEo");var r=a("bx4M"),n=a("tJVT"),o=a("q1tI"),s=a.n(o),i=a("9kvl"),l=a("PaMa"),c=a.n(l),u=a("0Owb"),m=(a("7Kak"),a("9yH6")),g=(a("+L6B"),a("2/Rp")),f=(a("y8nQ"),a("Vl3Y")),d=(a("5NDa"),a("5rEg")),p=a("k1fw"),y=(a("Znn+"),a("ZTPi")),b=(a("tU7J"),a("wFql")),h=a("zoj5"),E=a.n(h),v=a("hyrn");a("i8i4");function O(e){return(e-(e%=60))/60+(9<e?":":":0")+e}var F=function(e){var t=f["a"].useForm(),a=Object(n["a"])(t,1),r=a[0],i=Object(o["useState"])(),l=Object(n["a"])(i,2),c=l[1],u=Object(o["useState"])(0),m=Object(n["a"])(u,2),y=m[0],b=m[1],h=Object(o["useState"])(0),F=Object(n["a"])(h,2),j=(F[0],F[1],Object(o["useState"])("")),L=Object(n["a"])(j,2),I=L[0],w=L[1],x=Object(o["useState"])(120),N=Object(n["a"])(x,2),P=N[0],V=N[1],k=Object(o["useRef"])(),T=Object(o["useRef"])(),S=Object(o["useRef"])(),R=Object(o["useRef"])(),A=Object(o["useRef"])(),C=Object(o["useRef"])(),q=null,M=function(t){console.log(t);var a=t.a+t.b+t.c+t.d+t.e+t.f,r={token:e.userLogin.FP.data.token,code:a};e.dispatch({type:"login/VerifyCode",payload:Object(p["a"])({},r)})},B=function(){clearTimeout(q),V(120),r.resetFields();var t={userId:e.userLogin.forgot.data.userId,requestType:"phoneNumber"};e.dispatch({type:"login/ForgotPassword",payload:Object(p["a"])({},t)})};Object(o["useEffect"])((function(){var t=!1;return!t&&e.userLogin.FP&&200===e.userLogin.FP.statusCode&&console.log(e),function(){t=!0}}),[e.userLogin.FP.statusCode]),Object(o["useEffect"])((function(){c({})}),[]),Object(o["useEffect"])((function(){P>0?q=setTimeout((function(){V(P-1)}),1e3):(clearTimeout(q),r.resetFields(),e.dispatch({type:"login/clearLogin"}),e.history.push("/user/login"))}),[P]),Object(o["useEffect"])((function(){var t=e.userLogin.vOtp;return t.count>y&&200===t.statusCode?(b(t.count),w(""),e.history.push("/user/rest-password?hashVal="+t.data.token)):(t.count>y&&t.statusCode>400||201===t.statusCode)&&(b(t.count),w(t.message),r.resetFields()),function(){!0}}));var z=function(e,t,a){return e.length>0?(t&&t.current.focus(),Promise.resolve()):(0===e.length&&a&&a.current.focus(),Promise.reject(" "))};return s.a.createElement(o["Fragment"],null,I&&s.a.createElement(v["a"],{content:I,type:"error",time:3}),s.a.createElement(f["a"],{form:r,layout:"vertical",name:"normal_login",initialValues:{remember:!0},onFinish:M},s.a.createElement("div",{className:E.a.otpForm},s.a.createElement(f["a"].Item,{name:"a",rules:[function(e){var t=e.setFieldsValue;e.getFieldValue;return{validator:function(e,a){return t({a:a.charAt(a.lastIndexOf("")-1)}),z(a,T,"")}}}]},s.a.createElement(d["a"],{ref:k,autoFocus:!0})),s.a.createElement(f["a"].Item,{name:"b",rules:[function(e){var t=e.setFieldsValue;e.getFieldValue;return{validator:function(e,a){return t({b:a.charAt(a.lastIndexOf("")-1)}),z(a,S,k)}}}]},s.a.createElement(d["a"],{ref:T})),s.a.createElement(f["a"].Item,{name:"c",rules:[function(e){var t=e.setFieldsValue;e.getFieldValue;return{validator:function(e,a){return t({c:a.charAt(a.lastIndexOf("")-1)}),z(a,R,T)}}}]},s.a.createElement(d["a"],{ref:S})),s.a.createElement(f["a"].Item,{name:"d",rules:[function(e){var t=e.setFieldsValue;e.getFieldValue;return{validator:function(e,a){return t({d:a.charAt(a.lastIndexOf("")-1)}),z(a,A,S)}}}]},s.a.createElement(d["a"],{ref:R})),s.a.createElement(f["a"].Item,{name:"e",rules:[function(e){var t=e.setFieldsValue;e.getFieldValue;return{validator:function(e,a){return t({e:a.charAt(a.lastIndexOf("")-1)}),z(a,C,R)}}}]},s.a.createElement(d["a"],{ref:A})),s.a.createElement(f["a"].Item,{name:"f",rules:[function(e){var t=e.setFieldsValue;e.getFieldValue;return{validator:function(e,a){return t({f:a.charAt(a.lastIndexOf("")-1)}),z(a,"",A)}}}]},s.a.createElement(d["a"],{ref:C}))),s.a.createElement("div",{className:E.a.code1},"Verification code will expire in ",O(P-1)),s.a.createElement("div",{className:E.a.code2},"Don't recieve your verification code? ",s.a.createElement("a",{onClick:B},"Resend it")),s.a.createElement(f["a"].Item,{style:{textAlign:"center",margin:0},shouldUpdate:!0},(function(){return s.a.createElement(g["a"],{type:"primary",htmlType:"submit",className:"btn-w25",disabled:!r.isFieldsTouched(!0)||r.getFieldsError().filter((function(e){var t=e.errors;return t.length})).length},"Submit")}))))},j=Object(i["a"])((function(e){var t=e.login,a=e.loading;return{userLogin:t,submitting:a.effects["login/login"]}}))(F),L=function(e){console.log(e);var t=function(){e.dispatch({type:"login/clearLogin"}),e.history.push("/user/login")};return s.a.createElement(o["Fragment"],null,s.a.createElement("p",{style:{marginBottom:"13px"}},e.data.message||""),e.data.data.code?s.a.createElement(j,e):s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(g["a"],{type:"primary",onClick:t,className:" btn-w25"},"Return to Log In")))},I=L,w=(b["a"].Text,y["a"].TabPane),x=function(e){var t=Object(o["useState"])(0),a=Object(n["a"])(t,2),r=a[0],i=a[1],l=Object(o["useState"])(!1),c=Object(n["a"])(l,2),b=c[0],h=c[1],O=Object(o["useState"])("1"),F=Object(n["a"])(O,2),j=F[0],L=F[1],x=Object(o["useRef"])(),N=e.dispatch,P=function(t){var a=e.userLogin.practiceId.data;a?(t.practiceId=a,N({type:"login/ForgotCheck",payload:Object(p["a"])({},t)})):e.history.push("/user/login")},V=function(t){console.log("Received values of form: ",t,e);var a={userId:e.userLogin.forgot.data.userId,requestType:t.sendOption};"email"===t.sendOption&&(a.redirectLink=window.location.origin+"/user/rest-password"),N({type:"login/ForgotPassword",payload:Object(p["a"])({},a)})},k=function(){N({type:"login/clearLogin"}),e.history.push("/user/login")};Object(o["useEffect"])((function(){var t=!1;x.current.focus(),!t&&e.userLogin.login.count>0&&N({type:"login/clearLogin"});var a=e.userLogin.forgot;return!t&&a.count>r&&200===a.statusCode?(i(a.count),a.data.email||a.data.phoneNumber?L("2"):L("4")):!t&&a.count>r&&401===a.statusCode&&(h(!0),i(a.count),setTimeout((function(){return h(!1)}),5e3)),!t&&e.userLogin.FP&&200===e.userLogin.FP.statusCode&&(console.log(e),L("3")),function(){t=!0}}));var T={marginBottom:13,width:"100%"};return s.a.createElement(o["Fragment"],null,s.a.createElement(y["a"],{activeKey:j,className:E.a.fytabs},s.a.createElement(w,{tab:"",key:"1"},s.a.createElement("p",{style:{marginBottom:"8px"}},"Enter your username / email below to reset your password."),b&&s.a.createElement(v["a"],{content:e.userLogin.forgot.message,type:"error"}),s.a.createElement(f["a"],{layout:"vertical",name:"forgot",className:"forgot-form",initialValues:{remember:!0},onFinish:P},s.a.createElement(f["a"].Item,{name:"username",label:"USERNAME / EMAIL",validateStatus:b?"error":"",rules:[{required:!0,message:"This field is required."}]},s.a.createElement(d["a"],{className:"hasLeftPrefix",prefix:s.a.createElement("i",{className:"fas fa-user"}),placeholder:"Username / Email",autoFocus:!0,ref:x})),s.a.createElement(f["a"].Item,{style:{textAlign:"right",margin:0}},s.a.createElement(g["a"],{type:"primary",htmlType:"submit",className:"btn-w25"},"Next")))),s.a.createElement(w,{tab:"",key:"2"},s.a.createElement("p",{style:{marginBottom:"13px"}},"Select a method to reset your password:"),b&&s.a.createElement(v["a"],{content:e.userLogin.FP?e.userLogin.FP.message:"",type:"error"}),s.a.createElement(f["a"],{layout:"vertical",name:"forgotoption",className:"forgot-option-form",initialValues:{sendOption:"phoneNumber"},onFinish:V},s.a.createElement(f["a"].Item,{name:"sendOption",validateStatus:b?"error":"",rules:[{required:!0,message:"This field is required."}]},s.a.createElement(m["a"].Group,null,e.userLogin.forgot.data&&e.userLogin.forgot.data.email&&s.a.createElement(m["a"],{style:T,value:"email"},"Send email to ",e.userLogin.forgot.data.email),e.userLogin.forgot.data&&e.userLogin.forgot.data.phoneNumber&&s.a.createElement(m["a"],{style:T,value:"phoneNumber"},"Send text to ",e.userLogin.forgot.data.phoneNumber))),s.a.createElement(f["a"].Item,{style:{textAlign:"right",margin:0}},s.a.createElement(g["a"],{type:"primary",htmlType:"submit",className:"btn-w25"},"Reset Password")))),s.a.createElement(w,{tab:"",key:"3"},s.a.createElement(I,Object(u["a"])({},e,{data:e.userLogin.FP?e.userLogin.FP:""}))),s.a.createElement(w,{tab:"",key:"4"},s.a.createElement("p",{style:{marginBottom:"13px"}},"There are no recovery methods for the username / email you entered. Please contact your Practice Administrator."),s.a.createElement("center",null,s.a.createElement(g["a"],{type:"primary",className:"btn-w25",onClick:k},"Return to Log In")))))},N=Object(i["a"])((function(e){var t=e.login,a=e.loading;return{userLogin:t,submitting:a.effects["login/login"]}}))(x),P=function(e){var t=Object(o["useState"])(!1),a=Object(n["a"])(t,2);a[0],a[1];return s.a.createElement(r["a"],{className:c.a.mainForgot,title:"Forgot Password?"},s.a.createElement(N,e))};t["default"]=Object(i["a"])((function(e){var t=e.login,a=e.loading;return{userLogin:t,submitting:a.effects["login/login"]}}))(P)},zoj5:function(e,t,a){e.exports={fytabs:"spc-pages-auth-forgot-steps-style-fytabs",locationList:"spc-pages-auth-forgot-steps-style-locationList",active:"spc-pages-auth-forgot-steps-style-active",boxes:"spc-pages-auth-forgot-steps-style-boxes",code1:"spc-pages-auth-forgot-steps-style-code1",code2:"spc-pages-auth-forgot-steps-style-code2",fontsize:"spc-pages-auth-forgot-steps-style-fontsize",otpForm:"spc-pages-auth-forgot-steps-style-otpForm"}}}]);